{"version":3,"sources":["../js/jquery.ajaxchimp.min.js"],"names":["$","ajaxChimp","responses","translations","init","selector","options","fn","each","i","elem","form","email","find","label","settings","extend","attr","url","replace","concat","submit","msg","data","dataArray","serializeArray","index","item","name","value","ajax","success","successCallback","resp","result","removeClass","addClass","parts","split","undefined","parseInt","toString","e","language","html","show","callback","dataType","error","text","console","log","submitMsg","jQuery"],"mappings":"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","file":"jquery.ajaxchimp.min.73c79649.98285618.map","sourceRoot":"..","sourcesContent":["(function ($) {\n    'use strict';\n\n    $.ajaxChimp = {\n        responses: {\n            'We have sent you a confirmation email'                                             : 0,\n            'Please enter a valid email'                                                        : 1,\n            'An email address must contain a single @'                                          : 2,\n            'The domain portion of the email address is invalid (the portion after the @: )'    : 3,\n            'The username portion of the email address is invalid (the portion before the @: )' : 4,\n            'This email address looks fake or invalid. Please enter a real email address'       : 5\n        },\n        translations: {\n            'en': null\n        },\n        init: function (selector, options) {\n            $(selector).ajaxChimp(options);\n        }\n    };\n\n    $.fn.ajaxChimp = function (options) {\n        $(this).each(function(i, elem) {\n            var form = $(elem);\n            var email = form.find('input[type=email]');\n            var label = form.find('.info');\n\n            var settings = $.extend({\n                'url': form.attr('action'),\n                'language': 'en'\n            }, options);\n\n            var url = settings.url.replace('/post?', '/post-json?').concat('&c=?');\n\n            form.attr('novalidate', 'true');\n            email.attr('name', 'EMAIL');\n\n            form.submit(function () {\n                var msg;\n                function successCallback(resp) {\n                    if (resp.result === 'success') {\n                        msg = 'We have sent you a confirmation email';\n                        label.removeClass('error').addClass('valid');\n                        email.removeClass('error').addClass('valid');\n                    } else {\n                        email.removeClass('valid').addClass('error');\n                        label.removeClass('valid').addClass('error');\n                        var index = -1;\n                        try {\n                            var parts = resp.msg.split(' - ', 2);\n                            if (parts[1] === undefined) {\n                                msg = resp.msg;\n                            } else {\n                                var i = parseInt(parts[0], 10);\n                                if (i.toString() === parts[0]) {\n                                    index = parts[0];\n                                    msg = parts[1];\n                                } else {\n                                    index = -1;\n                                    msg = resp.msg;\n                                }\n                            }\n                        }\n                        catch (e) {\n                            index = -1;\n                            msg = resp.msg;\n                        }\n                    }\n\n                    // Translate and display message\n                    if (\n                        settings.language !== 'en'\n                        && $.ajaxChimp.responses[msg] !== undefined\n                        && $.ajaxChimp.translations\n                        && $.ajaxChimp.translations[settings.language]\n                        && $.ajaxChimp.translations[settings.language][$.ajaxChimp.responses[msg]]\n                    ) {\n                        msg = $.ajaxChimp.translations[settings.language][$.ajaxChimp.responses[msg]];\n                    }\n                    label.html(msg);\n\n                    label.show(2000);\n                    if (settings.callback) {\n                        settings.callback(resp);\n                    }\n                }\n\n                var data = {};\n                var dataArray = form.serializeArray();\n                $.each(dataArray, function (index, item) {\n                    data[item.name] = item.value;\n                });\n\n                $.ajax({\n                    url: url,\n                    data: data,\n                    success: successCallback,\n                    dataType: 'jsonp',\n                    error: function (resp, text) {\n                        console.log('mailchimp ajax submit error: ' + text);\n                    }\n                });\n\n                // Translate and display submit message\n                var submitMsg = 'Submitting...';\n                if(\n                    settings.language !== 'en'\n                    && $.ajaxChimp.translations\n                    && $.ajaxChimp.translations[settings.language]\n                    && $.ajaxChimp.translations[settings.language]['submit']\n                ) {\n                    submitMsg = $.ajaxChimp.translations[settings.language]['submit'];\n                }\n                label.html(submitMsg).show(2000);\n\n                return false;\n            });\n        });\n        return this;\n    };\n})(jQuery);"]}